<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Steam Deck: The Linux User's Dream | Arian's blog</title>
<meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="When I received my Steam Deck about -checks Steam account- 3 months
ago, I was already aware of what it was capable of, considering that I
had been browsing r/SteamDeck while waiting for it. What I did not
know was its capabilities as a Linux desktop or even server.
You may ask &ldquo;what is so special about another Switch clone?&rdquo; if you
don&rsquo;t know what it is, and if you do you may ask &ldquo;what is so special
about a handheld pc?&rdquo;"><meta name=generator content="Hugo 0.145.0"><meta name=robots content="index, follow"><link rel=stylesheet href=/blog/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css><link rel=canonical href=http://arian-d.github.io/blog/posts/steam-deck/><meta property="og:url" content="http://arian-d.github.io/blog/posts/steam-deck/"><meta property="og:site_name" content="Arian's blog"><meta property="og:title" content="Steam Deck: The Linux User's Dream"><meta property="og:description" content="When I received my Steam Deck about -checks Steam account- 3 months ago, I was already aware of what it was capable of, considering that I had been browsing r/SteamDeck while waiting for it. What I did not know was its capabilities as a Linux desktop or even server.
You may ask “what is so special about another Switch clone?” if you don’t know what it is, and if you do you may ask “what is so special about a handheld pc?”"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-23T00:00:00+00:00"><meta property="article:modified_time" content="2022-11-23T00:00:00+00:00"><meta property="article:tag" content="Gaming"><meta property="article:tag" content="Steamdeck"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Arch"><meta itemprop=name content="Steam Deck: The Linux User's Dream"><meta itemprop=description content="When I received my Steam Deck about -checks Steam account- 3 months ago, I was already aware of what it was capable of, considering that I had been browsing r/SteamDeck while waiting for it. What I did not know was its capabilities as a Linux desktop or even server.
You may ask “what is so special about another Switch clone?” if you don’t know what it is, and if you do you may ask “what is so special about a handheld pc?”"><meta itemprop=datePublished content="2022-11-23T00:00:00+00:00"><meta itemprop=dateModified content="2022-11-23T00:00:00+00:00"><meta itemprop=wordCount content="1224"><meta itemprop=keywords content="Gaming,Steamdeck,Linux,Arch"><meta name=twitter:card content="summary"><meta name=twitter:title content="Steam Deck: The Linux User's Dream"><meta name=twitter:description content="When I received my Steam Deck about -checks Steam account- 3 months ago, I was already aware of what it was capable of, considering that I had been browsing r/SteamDeck while waiting for it. What I did not know was its capabilities as a Linux desktop or even server.
You may ask “what is so special about another Switch clone?” if you don’t know what it is, and if you do you may ask “what is so special about a handheld pc?”"></head><body class="ma0 avenir bg-near-white production"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/blog/ class="f3 fw2 hover-white no-underline white-90 dib">Arian's blog</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked ttu">Posts</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">Steam Deck: The Linux User's Dream</h1><time class="f6 mv4 dib tracked" datetime=2022-11-23T00:00:00Z>November 23, 2022</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>When I received my <a href=https://www.steamdeck.com/>Steam Deck</a> about -checks Steam account- 3 months
ago, I was already aware of what it was <a href=https://www.steamdeck.com/en/tech>capable of</a>, considering that I
had been browsing <a href=https://www.reddit.com/r/steamdeck>r/SteamDeck</a> while waiting for it. What I did <span class=underline>not</span>
know was its capabilities as a Linux desktop or even server.</p><p>You may ask &ldquo;what is so special about another Switch clone?&rdquo; if you
don&rsquo;t know what it is, and if you do you may ask &ldquo;what is so special
about a handheld pc?&rdquo;</p><p>The truth is, <a href=https://www.valvesoftware.com/en>Valve</a> got the hardware <strong>and</strong> the <a href=https://en.wikipedia.org/wiki/SteamOS>software</a> aspects right;
the latter being an <a href=https://archlinux.org/>Arch</a>-based OS with <em>full</em> root access (I&rsquo;m talking
<code>#</code> shells and being able to <code>sudo rm -rf /</code> 😈), which is the main reason I
was able to do so many things with it.</p><h2 id=the-hardware>The hardware</h2><p>If you have been out of the loop, it&rsquo;s a normal Arch Linux machine,
and by normal I mean the cpu is <code>x86_64</code> instead of <code>Aarch64</code> (ARM). While
this might not lead to a great battery life like the Nintendo
Switch<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, it does make it possible to run PC games, but
more importantly you can even run things like <a href=https://www.reddit.com/r/homelab/comments/yg0alv/of_course_the_steam_deck_can_run_kubernetes/>Kubernetes</a>, old PC games,
and pretty much most software that was made in the past few decades
for Linux and Windows.</p><h2 id=the-environment>The environment</h2><p>Just like any typical Arch install, SteamOS comes with an OpenSSH
server:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo systemctl statrt sshd
</span></span></code></pre></div><p>That&rsquo;s it! You now have remote access. You can do whatever you would
do with a typical linux laptop. It compiles code faster than my
T580 thinkpad, and it&rsquo;s half the price. 🙂.</p><h2 id=the-os>The OS</h2><p>If you haven&rsquo;t been keeping up with the new wave of GNU/Linux OSs
coming out, you might have missed a new theme:
immutability<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>. Essentially, the idea is that if you can&rsquo;t change it,
you can&rsquo;t break it. Some recent ones that I have used are:</p><dl><dt><a href=https://getfedora.org/coreos/>Fedora CoreOS</a></dt><dd>Immutable server OS</dd><dt><a href=https://silverblue.fedoraproject.org/>Fedora Silverblue</a></dt><dd>similar to CoreOS, but with a Gnome desktop</dd><dt><a href=https://microos.opensuse.org/>OpenSUSE MicroOS</a></dt><dd><a href=https://www.suse.com/>SUSE</a>&rsquo;s take on the same idea</dd></dl><p>The big question you might ask is &ldquo;if every package is managed <em>for</em> me,
how do I install things, or even modify things?&rdquo; The answer is simple:
containers. For desktop apps you would use <a href=https://www.flatpak.org/>Flatpak</a>s, and for services
you can use docker or <a href=https://podman.io/>podman</a> (rootless and daemonless docker).</p><p>You <em>can</em> install stuff like</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo pacman -S &lt;some tool&gt;
</span></span></code></pre></div><p>but the problem is that the package would be wiped after a system
update. I will discuss ideas on how to get around this <a href=#distrobox>below</a>.</p><h2 id=experiments>Experiments</h2><p>Now that you have a general idea of what type of system we&rsquo;re dealing
with, let me tell you about the things I&rsquo;ve tried on it</p><h3 id=virtualization>Virtualization</h3><p>The answer is a simple yes. This is not an m1 mac attempting to
emulate another architecture; with a simple <a href=https://wiki.archlinux.org/title/QEMU>QEMU</a> install, I was able
to virtualize Terry Davis&rsquo; <a href=https://templeos.org/>TempleOS</a> just for fun, but you can
virtualize Windows, or any other OS if you have the image for it. The
cherry on top is that they can be added as a game to steam like <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=156644206">any
other game</a>.</p><h3 id=linux-desktop-software>Linux Desktop software</h3><p>Again, it&rsquo;s a normal machine. I installed <a href=https://github.com/doomemacs/doomemacs>Doom Emacs</a>, <a href=https://librewolf.net/>LibreWolf</a>, and
Discord with no issues. The only thing to keep in mind is that if you
would like to set keybindings and use it in game-mode, you&rsquo;d need to
add it as a non-steam game as mentioned <a href=#virtualization>above</a> or using <a href=https://github.com/PhilipK/BoilR>BoilR</a>.</p><h3 id=ansible>Ansible</h3><p>Just like with <em>almost</em> any other device that comes with SSH and Python,
the steam deck works with ansible. The most useful module is the
<a href=https://docs.ansible.com/ansible/latest/collections/community/general/flatpak_module.html>flatpak module</a> for installing desktop apps. Check out my <a href=https://github.com/Arian-D/steam-deck-setup>playbooks</a> to
get an idea on how to declaratively-ish set up your Deck.</p><h3 id=distrobox>Distrobox</h3><p>Coming back to the point from the talk about <a href=#the-os>the OS</a>, you <em>technically</em>
cannot install software globally, since the updates wipe your
changes. An interesting way of getting around this is <a href=https://distrobox.privatedns.org/>Distrobox</a>, which
I discovered from the community, and have since been using it on my
other devices as well.</p><p>Distrobox lets you run docker images of most Linux distributions, but
it also applies changes that make it look like a real environment,
such as mounting your home directory, getting GUI apps to work, and
etc<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>.</p><h3 id=remote-directory-mounting>Remote directory mounting</h3><p>Emulation on the Deck is great<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>, but newer consoles tend to have games
that go beyond the usual 20-30G. Even on the model that I own with the
512G SSD, it is not enough for storing tens of AAA games<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup>. My desktop
is always running, and it has more than enough storage, but how do we
get the files across if they&rsquo;re stored remotely?<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup></p><p>The answer comes back to my all time favorite protocol: SSH. You can
do more than use a remote shell and transfer files; <a href=https://www.redhat.com/sysadmin/sshfs>SSHFS</a> lets you
mount directories over the network<sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup>.</p><p>Last piece of the puzzle is to get it to mount whenever there&rsquo;s a
connection. You guess it! SystemD!<sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup></p><p>SystemD lets you write and manage services as a <a href=https://wiki.archlinux.org/title/Systemd/User>normal user</a>, and it&rsquo;s
great because logging and network dependency can be taken care of,
without any hassle. A simple service that I wrote to mount my ps3
games was this, which I put at <code>.config/systemd/user/ps3.service</code><sup id=fnref:9><a href=#fn:9 class=footnote-ref role=doc-noteref>9</a></sup>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cfg data-lang=cfg><span style=display:flex><span><span style=color:#66d9ef>[Unit]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Description</span><span style=color:#f92672>=</span><span style=color:#e6db74>Mount remote SSH directories</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>After</span><span style=color:#f92672>=</span><span style=color:#e6db74>network.target</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Service]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ExecStart</span><span style=color:#f92672>=</span><span style=color:#e6db74>sshfs -f roms-server:roms/ps3 /home/deck/Emulation/roms/ps3</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ExecStop</span><span style=color:#f92672>=</span><span style=color:#e6db74>fusermount -u /home/deck/Emulation/roms/ps3</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Restart</span><span style=color:#f92672>=</span><span style=color:#e6db74>on-failure</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Install]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>WantedBy</span><span style=color:#f92672>=</span><span style=color:#e6db74>network.target</span>
</span></span></code></pre></div><p>Now, enable the service with</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>systemctl --user enable ps3
</span></span></code></pre></div><p>And voila! Now all of the remote games become visible when you turn on
the Deck, without taking up any of the local storage.</p><h2 id=final-thoughts>Final thoughts</h2><p>There is so much more to be done like <a href=https://steamdeckrepo.com/>changing your boot video</a>, <a href=https://www.reddit.com/r/SteamDeck/comments/xiw6hc/dual_screen_camera_monitor_setup_w_minor_update/>set up
3ds with another display</a>, or just <a href="https://www.youtube.com/watch?v=ue0A2Sxr5Fc">use it as a gaming PC</a>, but this post
wasn&rsquo;t meant to be a guide; these were simply things I did and learned. For
an extensive guide hit up <a href=https://github.com/mikeroyal/Steam-Deck-Guide>Steam Deck Guide</a>.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://screenrant.com/steam-deck-battery-life-nintendo-switch/>https://screenrant.com/steam-deck-battery-life-nintendo-switch/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>If you have done any pure <a href=https://en.wikipedia.org/wiki/Functional_programming>functional programming</a> (like
<a href=https://www.haskell.org/>Haskell</a>), this should seem familiar. <em>If</em> this interests you, check out <a href=https://nixos.org/>NixOS</a>.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>Distrobox only needs docker or podman, and since you cannot
install either permanently, there is a script on their repo to take
care of that. Check <a href=https://github.com/89luca89/distrobox/blob/main/docs/posts/install_rootless.md>this</a> out for more information.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>You can manually install emulators, use the <a href=http://retrodeck.net/>RetroDECK</a>
flatpak, or use <a href=https://www.emudeck.com/>EmuDeck</a>, which is what I did.&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p>The reason games -at least in my experience- run so
smoothly is because of the fact that the games are loaded into memory,
rather than actively interacting with the storage.&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p>Just to clarify, we are not streaming the game, but rather
the game roms. This would put the load on the Deck&rsquo;s APU, but it also
runs much better than cloud gaming services, if your internet is slow.&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:7><p>This is very similar to <a href=https://en.wikipedia.org/wiki/Network_File_System>NFS</a>, but there is no need to open
an extra port or install a new program, and obviously, SSH traffic is
thoroughly encrypted.&#160;<a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:8><p>Another detail I&rsquo;m omitting is the &ldquo;What if I&rsquo;m not
home?&rdquo; scenario. I personally have a <a href=https://docs.linuxserver.io/images/docker-wireguard>WireGuard</a> vpn running with an
open port on my router, but if you do <span class=underline>not</span> want to open a port, there&rsquo;s
always Tailscale. I highly suggest <a href=https://tailscale.com/blog/steam-deck/>this</a> article by Xe, which goes
significantly more in depth than other sources.&#160;<a href=#fnref:8 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:9><p><code>roms-server</code> in this instance is a remote host that hosts my
roms which I aliased in <code>.config/ssh</code>. You could also put
<code>user@yourhost</code> if you don&rsquo;t want to create a <code>config</code> file for SSH.&#160;<a href=#fnref:9 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><ul class=pa0><li class="list di"><a href=/blog/tags/gaming/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Gaming</a></li><li class="list di"><a href=/blog/tags/steamdeck/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Steamdeck</a></li><li class="list di"><a href=/blog/tags/linux/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Linux</a></li><li class="list di"><a href=/blog/tags/arch/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Arch</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://arian-d.github.io/blog/>&copy; Arian's blog 2025</a><div><div class=ananke-socials></div></div></div></footer></body></html>